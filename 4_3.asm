	LIST	P=PIC16F84A
	INCLUDE	"P16F84A.INC"
	
	__CONFIG	_HS_OSC & _WDT_OFF
	
CNT1	EQU	0CH
CNT2	EQU	0DH
CNT3	EQU	0EH
CT1		EQU	0FH
CT2		EQU	10H
ORT1	EQU	4EH
ORT2	EQU	4FH
	
	ORG	0H

MAIN
	BSF		STATUS, RP0	;Bank 1
	CLRF	TRISA		;PortA->Output
	CLRF	TRISB		;PortB->Output
	BCF		STATUS,	RP0	;Bank 0	
	CLRF	PORTA		;ALL PortA->Low
	CLRF	PORTB		;ALL PortB->Low

	
;4+250032+250032+250034+250034+5
;	=1000141C
SUB1
	;4
	MOVLW	003H		;1	
	MOVWF	CT1			;1
	MOVLW	004H		;1	
	MOVWF	CT2			;1
	
	;4
	MOVLW	B'00000001'	;1
	MOVWF	PORTA		;1
	CALL	TIME05		;2
	
	;4
	MOVLW	B'00000011'	;1
	MOVWF	PORTA		;1
	CALL	TIME05		;2
	
	;6	
	MOVLW	B'10000000'	;1
	MOVWF	PORTB		;1
	MOVLW	B'00000010'	;1
	MOVWF	PORTA		;1
	CALL	TIME05		;2
	
	;6
	MOVLW	B'01000000'	;1
	MOVWF	PORTB		;1
	MOVLW	B'00000010'	;1
	MOVWF	PORTA		;1
	CALL	TIME05		;2
;Ç±Ç±Ç‹Ç≈ê≥èÌâ“ì≠

	;5
	;îΩïúêßå‰ëOÇÃèÄîı
	MOVLW	B'01000000'	;1
	MOVWF	ORT2		;1
	MOVLW	B'10000000'	;1
	MOVWF	ORT1		;1
	CLRF	PORTA		;1
		
	;1500223C
SUB2
	;7
	BCF		STATUS,	C	;1
	RRF		ORT2,	F	;1
	MOVF	ORT1,	W	;1
	IORWF	ORT2,	W	;1
	MOVWF	PORTB		;1
	CALL	TIME05		;2

	;8
	BCF		STATUS,	C	;1
	RRF		ORT2,	F	;1
	MOVF	ORT1,	W	;1
	IORWF	ORT2,	W	;1
	MOVWF	PORTB		;1
	RRF		ORT1,	F	;1
	CALL	TIME05		;2

	;3		
	DECFSZ	CT1,	F	;1	
	GOTO	SUB2		;2

	;2000297C
SUB3
	;7
	BCF		STATUS,	C	;1
	MOVF	ORT1,	W	;1
	IORWF	ORT2,	W	;1
	MOVWF	PORTB		;1
	RLF		ORT2,	F	;1
	CALL	TIME05		;2

	;8
	BCF		STATUS,	C	;1
	MOVF	ORT1,	W	;1
	IORWF	ORT2,	W	;1
	MOVWF	PORTB		;1
	RLF		ORT2,	F	;1
	RRF		ORT1,	F	;1
	CALL	TIME05		;2
	
	;3	
	DECFSZ	CT2,	F	;1	
	GOTO	SUB3		;2

;Ç±Ç±Ç©ÇÁê≥èÌâ“ì≠
	;750104C
SUB4
	;6
	MOVLW	B'00000010'	;1
	MOVWF	PORTA		;1
	MOVLW	B'00000001'	;1
	MOVWF	PORTB		;1
	CALL	TIME05		;2
	
	;6
	MOVLW	B'00000001'	;1
	MOVWF	PORTA		;1
	MOVLW	B'00000001'	;1
	MOVWF	PORTB		;1
	CALL	TIME05		;2

	;5
	MOVLW	B'00000001'	;1
	MOVWF	PORTA		;1
	CLRF	PORTB		;1

	;3
	CLRF	PORTA		;1
	GOTO	SUB1		;2


;éûä‘êßå‰

		
;0.0001s(x=500c)
TIME100U	
	MOVLW	0A5H		;1		
	MOVWF	CNT1		;1		
	NOP					;1		
	NOP					;1	
LOOP1
	DECFSZ	CNT1,	F	;166	
	GOTO	LOOP1		;328
	RETURN				;2
	
;0.01S(y=500*100c)
TIME10M
	MOVLW	063H			
	MOVWF	CNT2			
	NOP					
	NOP					
LOOP2	
	CALL	TIME100U		
	DECFSZ	CNT2,	F	
	GOTO	LOOP2		
	RETURN				
			
;0.05S(z=500*100*5)
TIME05
	MOVLW	005H		;1		
	MOVWF	CNT3		;1
LOOP3
	CALL	TIME10M		;(2+50000)*5=250010
	DECFSZ	CNT3,	F	;4+2=6
	GOTO	LOOP3		;2*4=8
	RETURN				;2
	
	END